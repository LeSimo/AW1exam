{"ast":null,"code":"var _jsxFileName = \"/home/kali/Desktop/AW1/exam/client/src/Components/Configurator.js\";\nimport React from 'react';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport { Button, ButtonGroup, Navbar, Nav, Form, FormControl, Container, Row, Col, NavItem, Modal, ListGroupItem, Table, Badge } from 'react-bootstrap';\nimport API from './../API/API';\n\nfunction CategoryOption(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }\n  }, props.category));\n}\n\nclass Configurator extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateAvailableCars = carsId => {\n      if (JSON.stringify(carsId) !== JSON.stringify(this.state.availableCars)) {\n        this.setState({\n          availableCars: carsId\n        });\n      }\n    };\n\n    this.updateField = (name, value) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const form = event.currentTarget;\n\n      if (!form.checkValidity()) {\n        form.reportValidity();\n      } else {//\n      }\n    };\n\n    this.state = {\n      StartDate: '',\n      EndDate: '',\n      category: '',\n      ageType: '',\n      additionalDriver: '',\n      extraInsurance: false,\n      kmType: '',\n      submitted: false,\n      availableCars: []\n    };\n  }\n\n  render() {\n    if (this.state.submitted) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 20\n      }\n    });\n    return /*#__PURE__*/React.createElement(Row, {\n      className: \"vheight-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      className: \"below-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      method: \"POST\",\n      onSubmit: event => this.handleSubmit(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, \"Rent Configurator\"), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"Dates\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 37\n      }\n    }, \"Starting Date\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"date\",\n      name: \"StartDate\",\n      value: this.state.StartDate,\n      onChange: ev => this.updateField(ev.target.name, ev.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    }, \"Ending Date\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"date\",\n      name: \"EndDate\",\n      value: this.state.EndDate,\n      onChange: ev => this.updateField(ev.target.name, ev.target.value),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }\n    }, \"Car's Category\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"category\",\n      value: this.state.category,\n      onChange: ev => this.updateField(ev.target.name, ev.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 41\n      }\n    }, \" \"), this.props.categories.map(cat => /*#__PURE__*/React.createElement(CategoryOption, {\n      key: cat,\n      category: cat,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 77\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, \"Driver's Age\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"ageType\",\n      value: this.state.ageType,\n      onChange: ev => this.updateField(ev.target.name, ev.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 41\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 41\n      }\n    }, \"less than 25\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    }, \"less than 65\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 41\n      }\n    }, \"more than 65\"))))), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    }, \"Additional Drivers\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"additionalDriver\",\n      value: this.state.additionalDriver,\n      onChange: ev => this.updateField(ev.target.name, ev.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 41\n      }\n    }, \"NO\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 41\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 41\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 41\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 41\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    }, \"5\"))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }, \"Km per day\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"kmType\",\n      value: this.state.kmType,\n      onChange: ev => this.updateField(ev.target.name, ev.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 41\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 41\n      }\n    }, \"less than 50 km/day\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 41\n      }\n    }, \"less than 150 km/day\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 41\n      }\n    }, \"unlimited\"))))), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      type: \"checkbox\",\n      name: \"extraInsurance\",\n      label: \"Additional insurance?\",\n      value: this.state.extraInsurance,\n      onChange: ev => this.updateField(ev.target.name, ev.target.checked),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, \"Available Cars:  \", (!this.state.StartDate || !this.state.EndDate) && /*#__PURE__*/React.createElement(Badge, {\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 93\n      }\n    }, \"Insert Data Interval please\"), this.state.StartDate && this.state.EndDate && /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 74\n      }\n    }, /*#__PURE__*/React.createElement(GetAvailableCars, {\n      handleErrors: this.props.handleErrors,\n      updateAvailableCars: this.updateAvailableCars,\n      StartDate: this.state.StartDate,\n      EndDate: this.state.EndDate,\n      availableCars: this.state.availableCars,\n      category: this.state.category,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }), !this.state.category && /*#__PURE__*/React.createElement(Badge, {\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 56\n      }\n    }, \"Insert Category for price\"))), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, this.state.StartDate && this.state.EndDate && this.state.category && /*#__PURE__*/React.createElement(PriceCalculator, {\n      cars: this.props.cars,\n      availableCars: this.state.availableCars,\n      category: this.state.category,\n      StartDate: this.state.StartDate,\n      EndDate: this.state.EndDate,\n      ageType: this.state.ageType,\n      additionalDriver: this.state.additionalDriver,\n      extraInsurance: this.state.extraInsurance,\n      kmType: this.state.kmType,\n      rents: this.props.rents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }))));\n  }\n\n}\n\nfunction GetAvailableCars(props) {\n  let filtredId;\n  API.availableCars(props.StartDate, props.EndDate).then(carsId => {\n    props.updateAvailableCars(carsId);\n  }).catch(errorObj => {\n    props.handleErrors(errorObj);\n  }); //Condition for filter by category\n  //MUST ADD FILTER FOR CATEGORY\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    variant: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, Object.keys(props.availableCars).length)));\n}\n\nfunction PriceCalculator(props) {\n  if (Object.keys(props.availableCars).length === 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, \" No available cars\");\n  } //return <>Prezzo</>\n\n\n  let price = 0; // Choose the car's category\n\n  switch (props.category) {\n    case \"A\":\n      price += 80;\n      break;\n\n    case 'B':\n      price += 70;\n      break;\n\n    case 'C':\n      price += 60;\n      break;\n\n    case 'D':\n      price += 50;\n      break;\n\n    case 'E':\n      price += 40;\n      break;\n  }\n\n  let a = moment(props.EndDate);\n  let b = moment(props.StartDate);\n  let days = a.diff(b, 'days'); // Days of rent\n\n  price = price * days; // Km options\n\n  let kmOption = 1;\n\n  if (props.kmType === \"less than 50 km/day\") {\n    kmOption = 0.95;\n  }\n\n  if (props.kmType === \"unlimited\") {\n    kmOption = 1.5;\n  }\n\n  let driverOption = 1;\n\n  if (props.driverOption === \"less than 25\") {\n    driverOption = 1.05;\n  }\n\n  if (props.driverOption === \"more than 65\") {\n    driverOption = 1.1;\n  }\n\n  let additionalDriverOption = 1;\n\n  if (props.additionalDriver != \"NO\") {\n    additionalDriverOption = 1.15;\n  }\n\n  let extraInsuranceOption = 1;\n\n  if (props.extraInsurance) {\n    extraInsuranceOption = 1.2;\n  }\n\n  let frequentOption = 1;\n  const pastRents = props.rents.filter(rent => {\n    if (moment(rent.StartDate).isBefore(moment())) return true;\n  });\n\n  if (Object.keys(pastRents).length >= 3) {\n    frequentOption = 0.9;\n  } //Manca il filtro per il 10 % di veicoli\n\n\n  let finalPrice = price * kmOption * driverOption * additionalDriverOption * extraInsuranceOption * frequentOption;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    variant: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 19\n    }\n  }, finalPrice, \" \\u20AC \")));\n}\n\nexport default Configurator;","map":{"version":3,"sources":["/home/kali/Desktop/AW1/exam/client/src/Components/Configurator.js"],"names":["React","moment","Link","Redirect","Button","ButtonGroup","Navbar","Nav","Form","FormControl","Container","Row","Col","NavItem","Modal","ListGroupItem","Table","Badge","API","CategoryOption","props","category","Configurator","Component","constructor","updateAvailableCars","carsId","JSON","stringify","state","availableCars","setState","updateField","name","value","handleSubmit","event","preventDefault","form","currentTarget","checkValidity","reportValidity","StartDate","EndDate","ageType","additionalDriver","extraInsurance","kmType","submitted","render","ev","target","categories","map","cat","checked","handleErrors","cars","rents","GetAvailableCars","filtredId","then","catch","errorObj","Object","keys","length","PriceCalculator","price","a","b","days","diff","kmOption","driverOption","additionalDriverOption","extraInsuranceOption","frequentOption","pastRents","filter","rent","isBefore","finalPrice"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport { Button, ButtonGroup, Navbar, Nav, Form, FormControl, Container, Row, Col, NavItem, Modal, ListGroupItem, Table, Badge } from 'react-bootstrap';\nimport API from './../API/API'\n\n\n\nfunction CategoryOption(props) {\n    return <>\n        <option>{props.category}</option>\n    </>\n}\n\n\n\n\nclass Configurator extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { StartDate: '', EndDate: '', category: '', ageType: '', additionalDriver: '', extraInsurance: false, kmType: '', submitted: false, availableCars: [] }\n    }\n\n    updateAvailableCars = (carsId) => {\n        if (JSON.stringify(carsId) !== JSON.stringify(this.state.availableCars)) {\n            this.setState({ availableCars: carsId })\n        }\n    }\n\n    updateField = (name, value) => {\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const form = event.currentTarget;\n        if (!form.checkValidity()) {\n            form.reportValidity();\n        } else {\n            //\n        }\n    }\n\n\n    render() {\n        if (this.state.submitted)\n            return <Redirect to='/' />;\n        return (\n            <Row className=\"vheight-100\">\n                <Col sm={4}></Col>\n                <Col md={4} className=\"below-nav\">\n                    <Form method=\"POST\" onSubmit={(event) => this.handleSubmit(event)}>\n                        <h2>Rent Configurator</h2>\n                        <Form.Group controlId=\"Dates\">\n                            <Row>\n                                <Col>\n                                    <Form.Label>Starting Date</Form.Label>\n                                    <Form.Control type=\"date\" name=\"StartDate\" value={this.state.StartDate} onChange={(ev) => this.updateField(ev.target.name, ev.target.value)} required />\n                                </Col>\n                                <Col>\n                                    <Form.Label>Ending Date</Form.Label>\n                                    <Form.Control type=\"date\" name=\"EndDate\" value={this.state.EndDate} onChange={(ev) => this.updateField(ev.target.name, ev.target.value)} required />\n                                </Col>\n                            </Row>\n                        </Form.Group>\n                        <Form.Group>\n                            <Row>\n                                <Col>\n                                    <Form.Label>Car's Category</Form.Label>\n                                    <Form.Control as=\"select\" name=\"category\" value={this.state.category} onChange={(ev) => this.updateField(ev.target.name, ev.target.value)}>\n                                        <option value=''> </option>\n                                        {this.props.categories.map((cat) => <CategoryOption key={cat} category={cat} />)}\n                                    </Form.Control>\n                                </Col>\n                                <Col>\n                                    <Form.Label>Driver's Age</Form.Label>\n                                    <Form.Control as=\"select\" name=\"ageType\" value={this.state.ageType} onChange={(ev) => this.updateField(ev.target.name, ev.target.value)}>\n                                        <option value=''> </option>\n                                        <option>less than 25</option>\n                                        <option>less than 65</option>\n                                        <option>more than 65</option>\n                                    </Form.Control>\n                                </Col>\n                            </Row>\n                        </Form.Group>\n                        <Form.Group>\n                            <Row>\n                                <Col>\n                                    <Form.Label>Additional Drivers</Form.Label>\n                                    <Form.Control as=\"select\" name=\"additionalDriver\" value={this.state.additionalDriver} onChange={(ev) => this.updateField(ev.target.name, ev.target.value)}>\n                                        <option>NO</option>\n                                        <option>1</option>\n                                        <option>2</option>\n                                        <option>3</option>\n                                        <option>4</option>\n                                        <option>5</option>\n                                    </Form.Control>\n                                </Col>\n                                <Col>\n                                    <Form.Label>Km per day</Form.Label>\n                                    <Form.Control as=\"select\" name=\"kmType\" value={this.state.kmType} onChange={(ev) => this.updateField(ev.target.name, ev.target.value)}>\n                                        <option value=''> </option>\n                                        <option>less than 50 km/day</option>\n                                        <option>less than 150 km/day</option>\n                                        <option>unlimited</option>\n                                    </Form.Control>\n                                </Col>\n                            </Row>\n                        </Form.Group>\n                        <Form.Group>\n                            <Col xs=\"auto\">\n                                <Form.Check type=\"checkbox\" name=\"extraInsurance\" label=\"Additional insurance?\" value={this.state.extraInsurance} onChange={(ev) => this.updateField(ev.target.name, ev.target.checked)} />\n                            </Col>\n                        </Form.Group>\n                        <Button variant=\"primary\" type=\"submit\">Submit</Button>\n\n                    </Form>\n\n                    <h3>Available Cars:  {(!this.state.StartDate || !this.state.EndDate) && <Badge variant=\"secondary\">Insert Data Interval please</Badge>}\n                        {(this.state.StartDate && this.state.EndDate) && <Row>\n                            <GetAvailableCars handleErrors={this.props.handleErrors} updateAvailableCars={this.updateAvailableCars}\n                                StartDate={this.state.StartDate} EndDate={this.state.EndDate} availableCars={this.state.availableCars} category={this.state.category}/>\n                            {(!this.state.category) && <Badge variant=\"secondary\">Insert Category for price</Badge>}\n                        </Row>}\n\n                    </h3>\n\n                    <h3>\n                        {(this.state.StartDate && this.state.EndDate && this.state.category) &&\n                            <PriceCalculator cars={this.props.cars} availableCars={this.state.availableCars} category={this.state.category}\n                                StartDate={this.state.StartDate} EndDate={this.state.EndDate} ageType={this.state.ageType} additionalDriver={this.state.additionalDriver}\n                                extraInsurance={this.state.extraInsurance} kmType={this.state.kmType} rents={this.props.rents}/>}\n                    </h3>\n\n                </Col>\n            </Row>\n        )\n    }\n\n}\n\nfunction GetAvailableCars(props) {\n    let filtredId;\n    API.availableCars(props.StartDate, props.EndDate)\n        .then((carsId) => { props.updateAvailableCars(carsId) })\n        .catch((errorObj) => {\n            props.handleErrors(errorObj)\n        }) //Condition for filter by category\n    //MUST ADD FILTER FOR CATEGORY\n\n    return <><h3>{<Badge variant=\"light\">{Object.keys(props.availableCars).length}</Badge>}</h3></>\n}\n\nfunction PriceCalculator(props) {\n    if (Object.keys(props.availableCars).length === 0) {\n        return <> No available cars</>\n    }\n    //return <>Prezzo</>\n    let price = 0;\n    // Choose the car's category\n    switch (props.category) {\n        case \"A\": price += 80;\n            break;\n        case 'B': price += 70;\n            break;\n        case 'C': price += 60;\n            break;\n        case 'D': price += 50;\n            break;\n        case 'E': price += 40;\n            break;\n    }\n\n    let a = moment(props.EndDate);\n    let b = moment(props.StartDate);\n    let days = a.diff(b,'days');\n\n    // Days of rent\n    price = price * days;\n\n    // Km options\n    let kmOption = 1;\n    if(props.kmType === \"less than 50 km/day\"){\n        kmOption = 0.95;\n    }\n\n    if(props.kmType === \"unlimited\"){\n        kmOption = 1.5\n    }\n\n    let driverOption = 1;\n    if(props.driverOption === \"less than 25\"){\n        driverOption = 1.05;\n    }\n    if(props.driverOption === \"more than 65\"){\n        driverOption = 1.1;\n    }\n\n    let additionalDriverOption = 1;\n    if(props.additionalDriver != \"NO\"){\n        additionalDriverOption = 1.15;\n    }\n\n    let extraInsuranceOption = 1;\n    if(props.extraInsurance){\n        extraInsuranceOption = 1.2;\n    }\n\n    let frequentOption = 1;\n    const pastRents = props.rents.filter((rent) => {\n        if (moment(rent.StartDate).isBefore(moment()))\n            return true\n    })\n\n    if(Object.keys(pastRents).length >= 3){\n        frequentOption = 0.9;\n    }\n\n    //Manca il filtro per il 10 % di veicoli\n\n    let finalPrice = price * kmOption * driverOption * additionalDriverOption * extraInsuranceOption *frequentOption ;\n    return <><h3>{<Badge variant=\"light\">{finalPrice} â‚¬ </Badge>}</h3></>\n\n\n\n\n}\n\n\nexport default Configurator;"]},"metadata":{},"sourceType":"module"}